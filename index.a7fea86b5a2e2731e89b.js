(()=>{var e,t,a,r,n={6384:(e,t,a)=>{"use strict";var r=a(7294),n=a(3935);const s=e=>e.settings.i18n.isTranslationsLoaded,o=e=>e.settings.i18n.language;var i=a(5155),l=a(9778),u=a(9626),c=a(429);const d=[{name:"home",path:"/"},{name:"users",path:"/users"},{name:"github-profile",path:"/github-profile"}],g=e=>r.createElement("div",{className:"page-content"},e.children),p=e=>{const t=e.user;return r.createElement(r.Fragment,null,r.createElement("h3",null,t.login),r.createElement("img",{src:t.avatar_url}),r.createElement("pre",null,JSON.stringify(t,null,4)))},h=e=>({withNoPayload:()=>()=>({type:e,payload:null}),withPayload:()=>t=>({type:e,payload:t})}),m={loadStart:h("@githubProfile.loadStart").withPayload(),loadSuccess:h("@githubProfile.loadSuccess").withPayload(),loadError:h("@githubProfile.loadError").withPayload()},b=(e,t)=>({withReducer:a=>({[e]:(e,r)=>a(e||t,r)})}),f=b("githubProfile",{username:"",userDto:null,isLoading:!1,error:null}).withReducer(((e,t)=>{switch(t.type){case"@githubProfile.loadStart":return Object.assign(Object.assign({},e),{username:t.payload.username,isLoading:!0});case"@githubProfile.loadSuccess":return Object.assign(Object.assign({},e),{isLoading:!1,userDto:t.payload});case"@githubProfile.loadError":return Object.assign(Object.assign({},e),{isLoading:!1,error:t.payload})}return e})),y=e=>e.githubProfile.userDto;function v(e,t){return t.reduce(((t,a)=>(t[a]=e[a],t)),{})}const E=e=>e.auth.apiToken,j=e=>!!e.auth.apiToken,O={login:h("@auth.login").withPayload(),logout:h("@auth.logout").withNoPayload()};function w(e,t){return e.includes(t)}var P=a(4613);const L=["ru","en"],k=["app","auth","user"],S=new class{constructor(e){this.options=e,P.Z.init({lng:this.options.defaultLanguage,debug:this.options.debug,keySeparator:!1,interpolation:{escape:void 0},resources:{}})}translateFunction(){return P.Z.t.bind(P.Z)}setLanguageWithTranslations(e,t){t.forEach((([t,a])=>{P.Z.addResourceBundle(e,t,a,!0,!0)})),P.Z.changeLanguage(e)}browserLanguage(){const e=window.navigator.languages[0]||window.navigator.language;return w(this.options.languages,e)?e:this.options.defaultLanguage}enableTestingMode(){P.Z.changeLanguage("cimode")}}({debug:!1,defaultLanguage:"en",languages:L}),T=S.translateFunction(),N=()=>{const e=(0,i.v9)(E),[t,a]=(0,r.useState)(e),n=(0,i.I0)();return r.createElement("form",{onSubmit:e=>{e.preventDefault(),n(O.login({apiToken:t}))}},r.createElement("input",{value:t,placeholder:T("auth:authForm.apiTokenInputPlaceholder"),onChange:e=>a(e.target.value),required:!0,name:"apiToken"}),r.createElement("div",null,r.createElement("a",{href:"https://mockapi.io",rel:"noreferrer",target:"_blank"},T("auth:authForm.apiLink"))))},_={ADMIN:"user:role.ADMIN",CASHIER:"user:role.CASHIER",COURIER:"user:role.COURIER",CLIENT:"user:role.CLIENT"},C=({user:e})=>r.createElement("div",null,r.createElement("h4",null,T(_[e.role])),r.createElement("pre",null,JSON.stringify(e,null,2))),U={loadStart:h("@usersList.loadStart").withNoPayload(),loadSuccess:h("@usersList.loadSuccess").withPayload(),loadError:h("@usersList.loadError").withPayload()},x=e=>e.usersList,R=["github-profile","users"],q=()=>r.createElement("div",{className:"main-sidebar u-pad-16"},R.map((e=>r.createElement(c.rU,{key:e,className:"main-sidebar__nav-link",routeName:e},e)))),I=a.p+"bundles-report.html",A={setLanguage:h("@settings.setLanguage").withPayload(),changeLanguage:h("@settings.changeLanguage").withPayload(),loadTranslations:h("@settings.loadTranslations").withNoPayload()},D=()=>{const e=(0,i.v9)(o),t=(0,i.I0)();return r.createElement("select",{value:e||"",onChange:e=>{const a=e.target.value;w(L,a)&&t(A.changeLanguage({language:a}))}},L.map((e=>r.createElement("option",{key:e,value:e},e))))},$=()=>r.createElement("div",{className:"main-header"},r.createElement("h1",{className:"main-header__title"},T("app:header.mainHeader")),r.createElement("a",{className:"main-header__right-item",href:I,target:"_blank",rel:"noreferrer"},T("app:header.bundleReportLink")),r.createElement("div",{className:"main-header__right-item"},r.createElement(D,null))),F={"github-profile":{PageComponent:()=>{const e=(0,i.v9)(y),t=(0,i.I0)();return(0,r.useEffect)((()=>{t(m.loadStart({username:"rodmax"}))}),[t]),e?r.createElement(g,null,r.createElement("h2",null,"Github profile"),r.createElement(p,{user:e})):r.createElement("h4",null,"Loading...")}},users:{PageComponent:()=>{var e;const t=(0,i.v9)(j),a=(0,i.v9)(x),n=(0,i.I0)();return(0,r.useEffect)((()=>{t&&n(U.loadStart())}),[n,t]),r.createElement(g,null,r.createElement(N,null),r.createElement("pre",null,JSON.stringify(v(a,["isLoading","error"]),null,2)),r.createElement("p",null,null===a.users?T("user:usersListPage.noUserLoaded"):T("app:total",{total:a.users.count})),null===(e=a.users)||void 0===e?void 0:e.items.map((e=>r.createElement(C,{key:e.id,user:e}))))}},home:{PageComponent:()=>r.createElement(g,null,"Default page")}},M=()=>{const e=(0,c.yj)().route.name,t=F[e];return r.createElement("main",{className:"main-layout g-layout"},r.createElement("header",{className:"main-layout__header"},r.createElement($,null)),r.createElement("aside",{className:"main-layout__sidebar"},r.createElement(q,null)),r.createElement("section",{className:"main-layout__content"},r.createElement(t.PageComponent,null)))};var z=a(4890),B=a(6228),J=a(4454),Z=a(8500),G=a(7935),H=a(6381),W=a(5709),Y=a(655);const K=["status","statusText","type","ok"];var Q=a(2948);function V(e,t,a){const r=function(e,t){if(null==e||""===e)return null;switch(typeof e){case"boolean":return t.serializeBoolean(e);case"number":return t.serializeNumber(e);case"string":return e;case"object":return t.serializeJson(e);default:return e.toString()}}(t,a);return r?`${encodeURIComponent(e)}=${encodeURIComponent(r)}`:null}const X={serializeBoolean:e=>e.toString(),serializeNumber:e=>e.toString(),serializeJson:e=>JSON.stringify(e)};class ee extends Error{constructor(e,t){super("http client error"),this.config=e,this.response=t}}const te=new class{constructor(e={}){this.config=Object.assign(Object.assign({},this.defaultConfig()),e)}request(e){let t=e.url;const a=e.queryParams&&function(e,t=X){const a=[],r=e=>e&&a.push(e);return Object.keys(e).forEach((a=>{const n=e[a];Array.isArray(n)?n.forEach((e=>{r(V(a,e,t))})):r(V(a,n,t))})),a.join("&")}(e.queryParams,this.config.querySerializer);return a&&(t=`${t}?${a}`),(0,Q.U)(t,{method:e.method}).pipe((0,H.w)((t=>this.handleFetchResponse(t,e))))}handleFetchResponse(e,t){return(0,Y.mG)(this,void 0,void 0,(function*(){const a=v(e,K);if(!e.ok)throw new ee(t,Object.assign(Object.assign({},a),{body:null,fetchResponse:e}));const r=yield e.json(),n=Object.assign(Object.assign({},a),{body:r,fetchResponse:e});if(e.status>=400)throw new ee(t,n);return n}))}defaultConfig(){return{querySerializer:X}}},ae=function(e){return te.request({method:"GET",url:`https://api.github.com/users/${e}`}).pipe((0,W.U)((({body:e})=>e)))},re=b("auth",{apiToken:""}).withReducer(((e,t)=>{switch(t.type){case"@auth.login":return Object.assign({},t.payload);case"@auth.logout":return{apiToken:""}}return e})),ne=/([^:])\/\//g,se=new class{constructor(e){this.options=e,this.token=""}updateToken(e){this.token=e}request(e){return this.options.httpBackend.request({method:e.method,url:this.url(e.urlParts),queryParams:e.queryParams,body:e.body})}url(e){return function(e){return e.join("/").replaceAll(ne,"$1/")}([this.endpoint(),...e])}endpoint(){return this.options.endpointTemplate.replace("{token}",this.token)}}({httpBackend:te,endpointTemplate:"https://{token}.mockapi.io/api/v1"});var oe=a(2976),ie=a(4370);const le=b("usersList",{users:null,isLoading:!1,error:null}).withReducer(((e,t)=>{switch(t.type){case"@usersList.loadStart":return Object.assign(Object.assign({},e),{isLoading:!0});case"@usersList.loadSuccess":return Object.assign(Object.assign({},e),{isLoading:!1,users:t.payload});case"@usersList.loadError":return Object.assign(Object.assign({},e),{isLoading:!1,error:t.payload})}return e}));function ue(e){return e.body}class ce{constructor(e){this.options=e}create(e){return this.request({method:"POST",urlParts:[],body:e}).pipe((0,W.U)(ue))}update(e,t){return this.request({method:"PUT",urlParts:[e],body:t}).pipe((0,W.U)(ue))}search(e){return this.request({method:"GET",urlParts:[],queryParams:e}).pipe((0,W.U)(ue))}request(e){return se.request(Object.assign(Object.assign({},e),{urlParts:[this.options.resourceUrl,...e.urlParts]}))}}const de=new class{constructor(){this.client=new ce({resourceUrl:"/users"})}search(e){return this.client.search(e)}},ge=b("settings",{i18n:{language:null,isTranslationsLoaded:!1}}).withReducer(((e,t)=>{switch(t.type){case"@settings.setLanguage":return Object.assign(Object.assign({},e),{i18n:Object.assign(Object.assign({},e.i18n),{language:t.payload.language,isTranslationsLoaded:!1})});case"@settings.changeLanguage":return Object.assign(Object.assign({},e),{i18n:Object.assign(Object.assign({},e.i18n),{language:t.payload.language})});case"@settings.loadTranslations":return Object.assign(Object.assign({},e),{i18n:Object.assign(Object.assign({},e.i18n),{isTranslationsLoaded:!0})})}return e}));var pe=a(4759),he=a(1993);const me=new class{constructor(e){this.key=`app.${e}`}set(e){localStorage.setItem(this.key,JSON.stringify(e))}get(e=null){const t=localStorage.getItem(this.key);let a=null;try{a=null!==t?JSON.parse(t):e}catch(t){a=e}return a}}("setting"),be=(fe={reducers:Object.assign(Object.assign(Object.assign(Object.assign({},f),re),le),ge),epics:[e=>e.pipe((0,G.l)("@githubProfile.loadStart"),(0,H.w)((e=>ae(e.payload.username).pipe((0,W.U)((e=>m.loadSuccess(e))))))),e=>{const t=e.pipe((0,G.l)("@auth.login","@auth.logout"),(0,H.w)((e=>{switch(e.type){case"@auth.login":se.updateToken(e.payload.apiToken);break;case"@auth.logout":se.updateToken("")}return oe.C}))),a=oe.C;return(0,ie.T)(t,a)},e=>e.pipe((0,G.l)("@usersList.loadStart"),(0,H.w)((()=>de.search({limit:10,page:1,orderBy:"asc",sortBy:"name"}).pipe((0,W.U)((e=>U.loadSuccess(e))))))),e=>e.pipe((0,G.l)("@settings.changeLanguage","@settings.setLanguage"),(0,pe.z)((e=>{switch(e.type){case"@settings.setLanguage":return(t=e.payload.language,Promise.all(k.map((e=>a(8214)(`./${e}-${t}.json`).then((t=>[e,t.default])))))).then((t=>(S.setLanguageWithTranslations(e.payload.language,t),A.loadTranslations())));case"@settings.changeLanguage":return me.set(e.payload.language),window.location.reload(),oe.C}var t;return oe.C})),(0,he.O)(A.setLanguage({language:me.get(S.browserLanguage())})))],enabledDevTools:!0},fe=Object.assign({enabledDevTools:!1},fe),()=>{const e=(0,z.UY)(fe.reducers),t=(0,B.k)();let a=(0,z.md)(t);fe.enabledDevTools&&(a=(0,Z.Uo)(a));const r=(0,z.MT)(e,a);return t.run((0,J.l)(...fe.epics)),r});var fe;const ye=function(){const e=(0,l.ZP)(d);return e.usePlugin((0,u.Z)({useHash:!0})),e}();ye.start(),n.render(r.createElement(r.StrictMode,null,r.createElement(c.pG,{router:ye},r.createElement(i.zt,{store:be()},r.createElement((()=>(0,i.v9)(s)?r.createElement(M,null):r.createElement(r.Fragment,null,"...")),null)))),document.getElementById("root"))},8214:(e,t,a)=>{var r={"./app-en.json":[3185,185],"./app-ru.json":[2836,836],"./auth-en.json":[232,232],"./auth-ru.json":[3405,405],"./user-en.json":[9535,535],"./user-ru.json":[7284,284]};function n(e){if(!a.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((()=>a.t(n,3)))}n.keys=()=>Object.keys(r),n.id=8214,e.exports=n}},s={};function o(e){if(s[e])return s[e].exports;var t=s[e]={id:e,loaded:!1,exports:{}};return n[e](t,t.exports,o),t.loaded=!0,t.exports}o.m=n,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"==typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"==typeof a.then)return a}var n=Object.create(null);o.r(n);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>a[e]));return s.default=()=>a,o.d(n,s),n},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[])),o.u=e=>e+"."+{185:"2eaf01006fd0cc44c1e3",232:"6676ec65ae6ba2c72918",284:"010a907b1cbc9a473e1a",405:"9dd9c64616277a8d861e",535:"4f8e8fa3065b0de3d092",836:"de09ffb2595d3315c841"}[e]+".js",o.miniCssF=e=>(({736:"vendor",826:"index"}[e]||e)+"."+{185:"31d6cfe0d16ae931b73c",232:"31d6cfe0d16ae931b73c",284:"31d6cfe0d16ae931b73c",405:"31d6cfe0d16ae931b73c",535:"31d6cfe0d16ae931b73c",736:"31d6cfe0d16ae931b73c",836:"31d6cfe0d16ae931b73c"}[e]+".css"),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},r="react-playground:",o.l=(e,t,n)=>{if(a[e])a[e].push(t);else{var s,i;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==r+n){s=c;break}}s||(i=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",r+n),s.src=e),a[e]=[t];var d=(t,r)=>{s.onerror=s.onload=null,clearTimeout(g);var n=a[e];if(delete a[e],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(r))),t)return t(r)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),i&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={826:0},t=[[6384,736]];o.f.j=(t,a)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var n=new Promise(((a,n)=>{r=e[t]=[a,n]}));a.push(r[2]=n);var s=o.p+o.u(t),i=new Error;o.l(s,(a=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,r[1](i)}}),"chunk-"+t)}};var a=()=>{};function r(){for(var a,r=0;r<t.length;r++){for(var n=t[r],s=!0,i=1;i<n.length;i++){var l=n[i];0!==e[l]&&(s=!1)}s&&(t.splice(r--,1),a=o(o.s=n[0]))}return 0===t.length&&(o.x(),o.x=()=>{}),a}o.x=()=>{o.x=()=>{},s=s.slice();for(var e=0;e<s.length;e++)n(s[e]);return(a=r)()};var n=r=>{for(var n,s,[l,u,c,d]=r,g=0,p=[];g<l.length;g++)s=l[g],o.o(e,s)&&e[s]&&p.push(e[s][0]),e[s]=0;for(n in u)o.o(u,n)&&(o.m[n]=u[n]);for(c&&c(o),i(r);p.length;)p.shift()();return d&&t.push.apply(t,d),a()},s=self.webpackChunkreact_playground=self.webpackChunkreact_playground||[],i=s.push.bind(s);s.push=n})(),o.x()})();
//# sourceMappingURL=index.a7fea86b5a2e2731e89b.js.map