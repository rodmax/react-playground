!function(){"use strict";var e={6588:function(e,t,r){var n=r(7294),o=r(3935),a=r(9778),s=r(9626),i=r(429);const u=[{name:"home",path:"/"},{name:"users",path:"/users"},{name:"github-profile",path:"/github-profile"}],l=["github-profile","users"],c=e=>{const t=e.user;return n.createElement(n.Fragment,null,n.createElement("h3",null,t.login),n.createElement("img",{src:t.avatar_url}),n.createElement("pre",null,JSON.stringify(t,null,4)))};var d=r(7803);const p=e=>({withNoPayload:()=>()=>({type:e,payload:null}),withPayload:()=>t=>({type:e,payload:t})}),h={loadStart:p("@githubProfile.loadStart").withPayload(),loadSuccess:p("@githubProfile.loadSuccess").withPayload(),loadError:p("@githubProfile.loadError").withPayload()},g=(e,t)=>({withReducer:r=>({[e]:(e,n)=>r(e||t,n)})}),m=g("githubProfile",{username:"",userDto:null,isLoading:!1,error:null}).withReducer(((e,t)=>{switch(t.type){case"@githubProfile.loadStart":return Object.assign(Object.assign({},e),{username:t.payload.username,isLoading:!0});case"@githubProfile.loadSuccess":return Object.assign(Object.assign({},e),{isLoading:!1,userDto:t.payload});case"@githubProfile.loadError":return Object.assign(Object.assign({},e),{isLoading:!1,error:t.payload})}return e})),f=e=>e.githubProfile.userDto,b=e=>e.auth.apiToken,y=e=>!!e.auth.apiToken,E={login:p("@auth.login").withPayload(),logout:p("@auth.logout").withNoPayload()},w=()=>{const e=(0,d.v9)(b),[t,r]=(0,n.useState)(e),o=(0,d.I0)();return n.createElement("form",{onSubmit:e=>{e.preventDefault(),o(E.login({apiToken:t}))}},n.createElement("input",{value:t,placeholder:"api token",onChange:e=>r(e.target.value),required:!0,name:"apiToken"}),n.createElement("div",null,n.createElement("a",{href:"https://mockapi.io",rel:"noreferrer",target:"_blank"},"Api token from mockapi.io")))},P={loadStart:p("@usersList.loadStart").withNoPayload(),loadSuccess:p("@usersList.loadSuccess").withPayload(),loadError:p("@usersList.loadError").withPayload()},j=e=>e.usersList,O={"github-profile":{PageComponent:()=>{const e=(0,d.v9)(f),t=(0,d.I0)();return(0,n.useEffect)((()=>{t(h.loadStart({username:"rodmax"}))}),[]),e?n.createElement(n.Fragment,null,n.createElement("h2",null,"Github profile"),n.createElement(c,{user:e})):n.createElement("h4",null,"Loading...")}},users:{PageComponent:()=>{const e=(0,d.v9)(y),t=(0,d.v9)(j),r=(0,d.I0)();return(0,n.useEffect)((()=>{e&&r(P.loadStart())}),[e]),n.createElement("div",null,n.createElement(w,null),n.createElement("section",null,"isLoggedIn: ",e.toString()),n.createElement("pre",null,JSON.stringify(t,null,2)))}},home:{PageComponent:()=>n.createElement(n.Fragment,null,"default page")}},k=()=>{const e=(0,i.yj)().route.name,t=O[e];return n.createElement("main",{className:"c-main-layout g-layout"},n.createElement("aside",{className:"c-main-layout__sidebar g-layout__fixed u-pad-24"},l.map((e=>n.createElement(i.rU,{key:e,className:"c-main-layout__nav-link",routeName:e},e)))),n.createElement("section",{className:"g-layout__growable mod-scrollable"},n.createElement(t.PageComponent,null)))};var v=r(4890),S=r(1766),T=r(4454),L=r(8500),x=r(7935),q=r(6381),U=r(5709),C=r(655);const N=["status","statusText","type","ok"];var _=r(2948);function R(e,t,r){const n=function(e,t){if(null==e||""===e)return null;switch(typeof e){case"boolean":return t.serializeBoolean(e);case"number":return t.serializeNumber(e);case"string":return e;case"object":return t.serializeJson(e);default:return e.toString()}}(t,r);return n?`${encodeURIComponent(e)}=${encodeURIComponent(n)}`:null}const z={serializeBoolean:e=>e.toString(),serializeNumber:e=>e.toString(),serializeJson:e=>JSON.stringify(e)};class B extends Error{constructor(e,t){super("http client error"),this.config=e,this.response=t}}const D=new class{constructor(e={}){this.config=Object.assign(Object.assign({},this.defaultConfig()),e)}request(e){let t=e.url;const r=e.queryParams&&function(e,t=z){const r=[],n=e=>e&&r.push(e);return Object.keys(e).forEach((r=>{const o=e[r];Array.isArray(o)?o.forEach((e=>{n(R(r,e,t))})):n(R(r,o,t))})),r.join("&")}(e.queryParams,this.config.querySerializer);return r&&(t=`${t}?${r}`),(0,_.U)(t,{method:e.method}).pipe((0,q.w)((t=>this.handleFetchResponse(t,e))))}handleFetchResponse(e,t){return(0,C.mG)(this,void 0,void 0,(function*(){const r=(n=e,N.reduce(((e,t)=>(e[t]=n[t],e)),{}));var n;if(!e.ok)throw new B(t,Object.assign(Object.assign({},r),{body:null,fetchResponse:e}));const o=yield e.json(),a=Object.assign(Object.assign({},r),{body:o,fetchResponse:e});if(e.status>=400)throw new B(t,a);return a}))}defaultConfig(){return{querySerializer:z}}},I=function(e){return D.request({method:"GET",url:"https://api.github.com/users/"+e}).pipe((0,U.U)((({body:e})=>e)))},F=g("auth",{apiToken:""}).withReducer(((e,t)=>{switch(t.type){case"@auth.login":return Object.assign({},t.payload);case"@auth.logout":return{apiToken:""}}return e})),G=/([^:])\/\//g,J=new class{constructor(e){this.options=e,this.token=""}updateToken(e){this.token=e}request(e){return this.options.httpBackend.request({method:e.method,url:this.url(e.urlParts),queryParams:e.queryParams,body:e.body})}url(e){return function(e){return e.join("/").replaceAll(G,"$1/")}([this.endpoint(),...e])}endpoint(){return this.options.endpointTemplate.replace("{token}",this.token)}}({httpBackend:D,endpointTemplate:"https://{token}.mockapi.io/api/v1"});var $=r(2976),A=r(6493);const M=g("usersList",{users:null,isLoading:!1,error:null}).withReducer(((e,t)=>{switch(t.type){case"@usersList.loadStart":return Object.assign(Object.assign({},e),{isLoading:!0});case"@usersList.loadSuccess":return Object.assign(Object.assign({},e),{isLoading:!1,users:t.payload});case"@usersList.loadError":return Object.assign(Object.assign({},e),{isLoading:!1,error:t.payload})}return e}));function Z(e){return e.body}class H{constructor(e){this.options=e}create(e){return this.request({method:"POST",urlParts:[],body:e}).pipe((0,U.U)(Z))}update(e,t){return this.request({method:"PUT",urlParts:[e],body:t}).pipe((0,U.U)(Z))}search(e){return this.request({method:"GET",urlParts:[],queryParams:e}).pipe((0,U.U)(Z))}request(e){return J.request(Object.assign(Object.assign({},e),{urlParts:[this.options.resourceUrl,...e.urlParts]}))}}const Y=new class{constructor(){this.client=new H({resourceUrl:"/users"})}search(e){return this.client.search(e)}},K=(Q={reducers:Object.assign(Object.assign(Object.assign({},m),F),M),epics:[e=>e.pipe((0,x.l)("@githubProfile.loadStart"),(0,q.w)((e=>I(e.payload.username).pipe((0,U.U)((e=>h.loadSuccess(e))))))),e=>{const t=e.pipe((0,x.l)("@auth.login","@auth.logout"),(0,q.w)((e=>{switch(e.type){case"@auth.login":J.updateToken(e.payload.apiToken);break;case"@auth.logout":J.updateToken("")}return $.C}))),r=$.C;return(0,A.T)(t,r)},e=>e.pipe((0,x.l)("@usersList.loadStart"),(0,q.w)((()=>Y.search({limit:10,page:1,orderBy:"asc",sortBy:"name"}).pipe((0,U.U)((e=>P.loadSuccess(e)))))))],enabledDevTools:!0},Q=Object.assign({enabledDevTools:!1},Q),()=>{const e=(0,v.UY)(Q.reducers),t=(0,S.k)();let r=(0,v.md)(t);Q.enabledDevTools&&(r=(0,L.Uo)(r));const n=(0,v.MT)(e,r);return t.run((0,T.l)(...Q.epics)),n});var Q;const V=function(){const e=(0,a.ZP)(u);return e.usePlugin((0,s.Z)({useHash:!0})),e}();V.start(),o.render(n.createElement(n.StrictMode,null,n.createElement(i.pG,{router:V},n.createElement(d.zt,{store:K()},n.createElement((()=>n.createElement(k,null)),null)))),document.getElementById("root"))}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n](o,o.exports,r),o.loaded=!0,o.exports}r.m=e,r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0},t=[[6588,736]],n=function(){};function o(){for(var n,o=0;o<t.length;o++){for(var a=t[o],s=!0,i=1;i<a.length;i++){var u=a[i];0!==e[u]&&(s=!1)}s&&(t.splice(o--,1),n=r(r.s=a[0]))}return 0===t.length&&(r.x(),r.x=function(){}),n}r.x=function(){r.x=function(){},s=s.slice();for(var e=0;e<s.length;e++)a(s[e]);return(n=o)()};var a=function(o){for(var a,s,u=o[0],l=o[1],c=o[2],d=o[3],p=0,h=[];p<u.length;p++)s=u[p],r.o(e,s)&&e[s]&&h.push(e[s][0]),e[s]=0;for(a in l)r.o(l,a)&&(r.m[a]=l[a]);for(c&&c(r),i(o);h.length;)h.shift()();return d&&t.push.apply(t,d),n()},s=self.webpackChunkreact_playground=self.webpackChunkreact_playground||[],i=s.push.bind(s);s.push=a}(),r.x()}();
//# sourceMappingURL=index.2f4cd9aa4e9df354824b.js.map